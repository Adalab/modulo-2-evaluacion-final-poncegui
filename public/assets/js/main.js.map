{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\n\n// ****************************************************************************\n// Preguntas SOPORTE;\n// No funciona Api sin http; probar metiendolo en una variable\n// ¿puedo dejar el boton añadir a favoritos o debe ser solo pinchando imagen? \n// preguntar si esta bien usar las funciones flecha en los listener directamente o hay que separarlas\n\n\n  \n  \n  // ****************************************************************************\n    // Pendientes;\n    // parte #3 Cambiar color a las tarjetas\n    // añadir condicionales si no encuentra la busqueda\n    // parte #4 local Storage\n    // Crear mensaje por si no encuentra la series\n    // parte #2 Añadir replace a las búsquedas sin imagenes\n    // Resetear placeholder y añadir comenzar funcion a la búsqueda (ahora solo funciona si no pongo reiniciar funcion)\n    // parte #5 Crear botón limpiar favorito y favoritos\n    // Limpiar HTML\n    // parte #6 sass \n\n\n//GLOBAL VARIABLES\nconst input = document.querySelector(\".js_inputUser\");\nconst btnSearch = document.querySelector(\".js_btnSearch\");\nlet colors = document.querySelector(\".card-body\")\n\n\n\n//VARIABLES USED TO RENDER DOM WITH FRAGMENT \nconst templateFavorites = document.getElementById(\"template-favorites\").content\nconst templateCard = document.getElementById(\"template-card\").content\nconst fragmentList = document.createDocumentFragment()\nconst listMovies =document.querySelector(\".js_results\");\nconst listFav =document.querySelector(\".js_favorites\");\n\n\n\n//ARRAYS\nlet tvSerieslist = [];\nlet fav = [];\n\n\n\n//FETCH PART #1\n\nfunction handleSearch(ev){\n    ev.preventDefault();\n    let inputUser = input.value;\n\n    fetch(`https://api.jikan.moe/v3/search/anime?q=`+ inputUser)\n    .then(response => response.json())\n    .then((moviesData) => {\n        tvSerieslist = moviesData.results\n        renderAnimeTvShows();\n         \n\n    })\n\n\n}  \n\n//RENDER PART #2  *inyect search user results & clear list\n\nfunction renderAnimeTvShows(){\n    // listMovies.innerHTML=\"\";\n    tvSerieslist.forEach(choice => {\n        templateCard.querySelector(\"h5\").textContent = choice.title\n        templateCard.querySelector(\"img\").setAttribute(\"src\", choice.image_url)\n        templateCard.querySelector(\".js-favorite\").dataset.id = choice.mal_id\n\n        const clone = templateCard.cloneNode(true)\n        fragmentList.appendChild(clone)\n    })\n\n    listMovies.appendChild(fragmentList)\n    console.log(fragmentList)\n\n\n    //Clear search user\n    const btnReset = document.querySelector(\".js_btnReset\");\n    btnReset.addEventListener(\"click\", (ev) => {\n        ev.preventDefault\n        listMovies.innerHTML=\"\";\n        // renderAnimeTvShows();\n        // handleSearch(ev);\n    \n    })\n  \n}\n\n\n//RENDER PART #3   *create a favorite list\n\n// ***Looking for btn selected and data to create a new objet***\nconst favorite = ev => {\n    if(ev.target.classList.contains(\"js-favorite\")){\n    setFavorite(ev.target.parentElement);\n    }\n    ev.stopPropagation()\n    console.log(ev.target.parentElement)\n  \n}\n// console.log(setFavorite)\n\n// ***New object with \"id\" and add it to favorite list***\nconst setFavorite = newObject => {\n    const movieFav = {\n        id: newObject.querySelector(\".js-favorite\").dataset.id,\n        title: newObject.querySelector(\"h5\").textContent,\n        image_url: newObject.querySelector(\"img\").src,\n        \n    }\n\n  console.log(movieFav)\n// ***New objet is pushed into \"fav\"\n    fav[movieFav] = {...movieFav}\n    renderFav()\n  \n}\n\n\n// ***Render new objet into fav list\nconst renderFav = () => {\n    // listFav.innerHTML =\"\";\n    Object.values(fav).forEach(movieFav => {\n        templateFavorites.querySelector(\"h5\").textContent = movieFav.title\n        templateFavorites.querySelector(\"img\").src = movieFav.image_url\n        const clone = templateFavorites.cloneNode(true)\n        fragmentList.appendChild(clone)\n    })\n\n    listFav.appendChild(fragmentList)\n    console.log(listFav)\n\n    //Clear search user\n  const clearFav = document.querySelector(\".js-remove\")\n  clearFav.addEventListener(\"click\", () => {\n    console.log(\"funciona\")\n    listFav.innerHTML =\"\";\n  })\n}\n    \n    \n  \n   \n   \n    \n\n\n //Clear fav movie selected\n\n\n\n//LISTENERS\n\nbtnSearch.addEventListener(\"click\", handleSearch);\nlistMovies.addEventListener(\"click\", ev => {\n    favorite(ev)\n   })"]}