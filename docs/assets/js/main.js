"use strict";const input=document.querySelector(".js_inputUser"),btnSearch=document.querySelector(".js_btnSearch"),btnReset=document.querySelector(".js_reset"),templateFavorites=document.getElementById("template-favorites").content,templateCard=document.getElementById("template-card").content,fragmentList=document.createDocumentFragment(),listMovies=document.querySelector(".js_results"),listFav=document.querySelector(".js_favorites");let tvSerieslist=[],fav=[];function handleSearch(e){e.preventDefault();let t=input.value;fetch("https://api.jikan.moe/v3/search/anime?q="+t).then(e=>e.json()).then(e=>{tvSerieslist=e.results,renderAnimeTvShows()})}function renderAnimeTvShows(){tvSerieslist.forEach(e=>{templateCard.querySelector("h5").textContent=e.title,templateCard.querySelector("img").setAttribute("src",e.image_url),templateCard.querySelector(".js-favorite").dataset.id=e.mal_id;const t=templateCard.cloneNode(!0);fragmentList.appendChild(t)}),listMovies.appendChild(fragmentList)}const favorite=e=>{console.log(e.target),e.target.classList.contains("js-favorite")&&(console.log(e.target.parentElement),setFavorite(e.target.parentElement)),e.stopPropagation()},setFavorite=e=>{const t={id:e.querySelector(".js-favorite").dataset.id,title:e.querySelector("h5").textContent};fav[t]={...t},console.log(t),renderFav()},renderFav=()=>{console.log(fav),Object.values(fav).forEach(e=>{templateFavorites.querySelector("h5").textContent=e.title;const t=templateFavorites.cloneNode(!0);fragmentList.appendChild(t)}),listFav.appendChild(fragmentList)};btnSearch.addEventListener("click",handleSearch),listMovies.addEventListener("click",e=>{favorite(e)});