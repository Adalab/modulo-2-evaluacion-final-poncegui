"use strict";const input=document.querySelector(".js_inputUser"),btnSearch=document.querySelector(".js_btnSearch"),btnReset=document.querySelector(".js_btnReset"),btnRemoveFav=document.querySelectorAll(".js-remove"),templateFavorites=document.getElementById("template-favorites").content,templateCard=document.getElementById("template-card").content,fragmentList=document.createDocumentFragment(),listMovies=document.querySelector(".js_results"),listFav=document.querySelector(".js_favorites");let tvSerieslist=[],fav=[];function handleSearch(e){e.preventDefault();let t=input.value;fetch("https://api.jikan.moe/v3/search/anime?q="+t).then(e=>e.json()).then(e=>{tvSerieslist=e.results,renderAnimeTvShows()})}function renderAnimeTvShows(){tvSerieslist.forEach(e=>{templateCard.querySelector("h5").textContent=e.title,templateCard.querySelector("img").setAttribute("src",e.image_url),templateCard.querySelector(".js-favorite").dataset.id=e.mal_id;const t=templateCard.cloneNode(!0);fragmentList.appendChild(t)}),listMovies.appendChild(fragmentList),console.log(fragmentList),btnReset.addEventListener("click",e=>{e.preventDefault,listMovies.innerHTML=""})}const favorite=e=>{e.target.classList.contains("js-favorite")&&setFavorite(e.target.parentElement),e.stopPropagation()},setFavorite=e=>{const t={id:e.querySelector(".js-favorite").dataset.id,title:e.querySelector("h5").textContent,image_url:e.querySelector("img").src};fav[t]={...t},renderFav()},renderFav=()=>{Object.values(fav).forEach(e=>{templateFavorites.querySelector("h5").textContent=e.title;const t=templateFavorites.cloneNode(!0);fragmentList.appendChild(t)}),listFav.appendChild(fragmentList),console.log(listFav)};btnSearch.addEventListener("click",handleSearch),listMovies.addEventListener("click",e=>{favorite(e)});